// https://code.visualstudio.com/docs/copilot/chat/mcp-servers

{
  "inputs": [
    {
      "type": "promptString",
      "id": "github-personal-access-token",
      "description": "GitHub personal access token",
      "password": true
    },
    {
      "type": "promptString",
      "id": "postgresql-database-url",
      "description": "PostgreSQL database URL (e.g. postgres://user:password@localhost:5432/dbname)",
      "password": true
    }
  ],
  "servers": {
    "homelab-infra": {
      "type": "stdio",
      "command": "uv",
      "args": ["run", "--directory", "scripts/infra-mcp", "server.py"]
    },
    "context7": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp"]
    },
    "github": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_PERSONAL_ACCESS_TOKEN": "${input:github-personal-access-token}"
      }
    },
    "postgres": {
      "type": "stdio",
      "command": "docker",
      "args": ["run", "--rm", "-i", "-e", "POSTGRES_URL", "docker.io/mcp/postgres:latest", "${input:postgresql-database-url}"],
      "env": {
        "POSTGRES_URL": "${input:postgresql-database-url}"
      }
    },
    "playwright": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@playwright/mcp@latest"]
    }
  }
}
