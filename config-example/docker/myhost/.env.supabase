############
# Secrets
# YOU MUST CHANGE THESE BEFORE GOING INTO PRODUCTION
# Source: https://github.com/supabase/supabase/blob/master/docker/.env.example
# Securing your services: https://supabase.com/docs/guides/self-hosting/docker#securing-your-services
############

# Password for the 'postgres' database role
# Generate: openssl rand -base64 32
SUPABASE_POSTGRES_PASSWORD="use-some-very-secure-value-here"

# JWT secret used by PostgREST and GoTrue for signing tokens
# This is required to generate ANON_KEY and SERVICE_ROLE_KEY below
# Generate: openssl rand -base64 32
SUPABASE_JWT_SECRET="use-some-very-secure-value-here"

# Anonymous (public) API key - allows limited access to your database
# Generate: Use https://supabase.com/docs/guides/self-hosting/docker#api-keys
# After setting JWT_SECRET above, use the Supabase JWT generator with role="use-some-very-secure-value-here"
SUPABASE_ANON_KEY="use-some-very-secure-value-here"

# Service role API key - has full access to bypass Row Level Security
# IMPORTANT: Keep this secret and never expose it in client-side code
# Generate: Use https://supabase.com/docs/guides/self-hosting/docker#api-keys
# After setting JWT_SECRET above, use the Supabase JWT generator with role="use-some-very-secure-value-here"
SUPABASE_SERVICE_ROLE_KEY="use-some-very-secure-value-here"

# Dashboard credentials for accessing Supabase Studio
# Choose your own username and generate a secure password
# Generate password: openssl rand -base64 24
SUPABASE_DASHBOARD_USERNAME="use-some-very-secure-value-here"
SUPABASE_DASHBOARD_PASSWORD="use-some-very-secure-value-here"

# Encryption key for Realtime and Supavisor (minimum 64 characters)
# Generate: openssl rand -base64 48
SUPABASE_SECRET_KEY_BASE="use-some-very-secure-value-here"

# Encryption key for Vault (stores sensitive data like OAuth tokens)
# Generate: openssl rand -base64 32
SUPABASE_VAULT_ENC_KEY="use-some-very-secure-value-here"

# Encryption key for securing connection strings between Studio and postgres-meta
# Generate: openssl rand -base64 32
SUPABASE_PG_META_CRYPTO_KEY="use-some-very-secure-value-here"


############
# Database - You can change these to any PostgreSQL database that has logical replication enabled.
############

SUPABASE_POSTGRES_HOST=db
SUPABASE_POSTGRES_DB=postgres
SUPABASE_POSTGRES_PORT=5432
# default user is postgres


############
# Supavisor -- Database pooler
############
# Port Supavisor listens on for transaction pooling connections
SUPABASE_POOLER_PROXY_PORT_TRANSACTION=6543
# Maximum number of PostgreSQL connections Supavisor opens per pool
SUPABASE_POOLER_DEFAULT_POOL_SIZE=20
# Maximum number of client connections Supavisor accepts per pool
SUPABASE_POOLER_MAX_CLIENT_CONN=100
# Unique tenant identifier
SUPABASE_POOLER_TENANT_ID=your-tenant-id
# Pool size for internal metadata storage used by Supavisor
# This is separate from client connections and used only by Supavisor itself
SUPABASE_POOLER_DB_POOL_SIZE=5


############
# API Proxy - Configuration for the Kong Reverse proxy.
############

SUPABASE_KONG_HTTP_PORT=7000 # default: 8000
SUPABASE_KONG_HTTPS_PORT=7443 # default: 8443


############
# API - Configuration for PostgREST.
############

SUPABASE_PGRST_DB_SCHEMAS=public,storage,graphql_public


############
# Auth - Configuration for the GoTrue authentication server.
############

## General
SUPABASE_SITE_URL=http://localhost:3000
SUPABASE_ADDITIONAL_REDIRECT_URLS=
SUPABASE_JWT_EXPIRY=3600
SUPABASE_DISABLE_SIGNUP=false
SUPABASE_API_EXTERNAL_URL=http://localhost:8000

## Mailer Config
SUPABASE_MAILER_URLPATHS_CONFIRMATION="/auth/v1/verify"
SUPABASE_MAILER_URLPATHS_INVITE="/auth/v1/verify"
SUPABASE_MAILER_URLPATHS_RECOVERY="/auth/v1/verify"
SUPABASE_MAILER_URLPATHS_EMAIL_CHANGE="/auth/v1/verify"

## Email auth
SUPABASE_ENABLE_EMAIL_SIGNUP=true
SUPABASE_ENABLE_EMAIL_AUTOCONFIRM=false
SUPABASE_SMTP_ADMIN_EMAIL=admin@example.com
SUPABASE_SMTP_HOST=supabase-mail
SUPABASE_SMTP_PORT=2500
SUPABASE_SMTP_USER=fake_mail_user
SUPABASE_SMTP_PASS=fake_mail_password
SUPABASE_SMTP_SENDER_NAME=fake_sender
SUPABASE_ENABLE_ANONYMOUS_USERS=false

## Phone auth
SUPABASE_ENABLE_PHONE_SIGNUP=true
SUPABASE_ENABLE_PHONE_AUTOCONFIRM=true


############
# Studio - Configuration for the Dashboard
############

SUPABASE_STUDIO_DEFAULT_ORGANIZATION=Default Organization
SUPABASE_STUDIO_DEFAULT_PROJECT=Default Project

# Enable webp support
SUPABASE_IMGPROXY_ENABLE_WEBP_DETECTION=true

# OpenAI API key to enable SQL Editor Assistant (optional)
# Get your key from: https://platform.openai.com/api-keys
# Leave empty if you don't want to use the AI assistant feature
SUPABASE_OPENAI_API_KEY="use-some-very-secure-value-here"


############
# Functions - Configuration for Functions
############
# NOTE: VERIFY_JWT applies to all functions. Per-function VERIFY_JWT is not supported yet.
SUPABASE_FUNCTIONS_VERIFY_JWT=false


############
# Logs - Configuration for Analytics
# Please refer to https://supabase.com/docs/reference/self-hosting-analytics/introduction
############

# Change vector.toml sinks to reflect this change
# Access tokens for Logflare analytics service
# IMPORTANT: These two tokens MUST be different values
# Generate public token: openssl rand -base64 32
# Generate private token: openssl rand -base64 32
SUPABASE_LOGFLARE_PUBLIC_ACCESS_TOKEN="use-some-very-secure-value-here"
SUPABASE_LOGFLARE_PRIVATE_ACCESS_TOKEN="use-some-very-secure-value-here"

# Docker socket location - this value will differ depending on your OS
SUPABASE_DOCKER_SOCKET_LOCATION=/var/run/docker.sock

# Google Cloud Project details
SUPABASE_GOOGLE_PROJECT_ID=GOOGLE_PROJECT_ID
SUPABASE_GOOGLE_PROJECT_NUMBER=GOOGLE_PROJECT_NUMBER
